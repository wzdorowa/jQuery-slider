# Slider - plugin for jQuery
Плагин для jQuery, который реализовывает функционал «бегунка» (также называемого слайдером) — специальный контрол, который позволяет перетягиванием задавать какое-то числовое значение.

## Клонирование
`git clone https://github.com/wzdorowa/jQuery-slider`

## Установка пакетов
`npm install`

## Команды
Сборка проекта: `npm run dev`

Запуск тестов: `npm run test`

## Использование
Для подключения слайдера на страницу необходимо вызвать функцию `slider()` на html-элементе:

`$('.js-slider-test').slider();`

Изменение параметров слайдера извне или получение данных об актуальном состоянии слайдера достигается путем вызова определенных методов на элементе слайдера для передачи данных.

Под `element` в примерах ниже подразумевается html-блок на котором отрисовывается слайдер.

`element.getState()` - получить актуальное состояние слайдера;

`element.setNewValueMin(value)` - передать данные для установки нового минимального значения слайдера;

`element.setNewValueMax(value)` - передать данные для установки нового максимального значения слайдера;

`element.setNewValueAmount(value)` - передать данные для установки нового количества бегунков;

`element.setNewValueThumbsValues(value, index)` - передать данные для установки нового значения бегунка. Аргумент index в данном случает означает порядковый номер бегунка. (Нумерация бегунков начинается с нуля, то есть если новое значение нужно установить для третьего бегунка, то его index будет равен двум).

`element.setNewValueStep(value)` - передать данные для установки нового значения размера шага;

`element.setNewValueOrientation(value)` - передать данные для установки ориентации слайдера. Возможные варианты значений: 'horizontal' или 'vertical';

`element.setNewValueTooltip(value)` - передать данные для установки видимости тултипов. Возможные варианты значений: `true` или `false`;

`element.subscribeToStateModel(createInput, isCreatedInput, amountInputs, changeAmountInputs,
            setValueToInputFromModelState, setValueToStepFromModelState, setValueToMinInputFromModelState,
            setValueMaxInputFromModelState)` - подписаться на изменения состояния слайдера, для получения актуальных значений (например, при движении бегунка);

# Архитектура приложения
![UML-diagram](architectureDiagram.svg)

Controller - реализует интерфейс IHTMLElement, чтобы на элементе слайдера можно было вызывать методы для взаимодействия с моделью + он же создает экземпляры view, model и eventEmitter.

EventEmitter - управляет событиями и реализует возможность любым элементам "подписаться" на них и быть вкурсе происходящего.

Model - реализует интерфейс IModelState, который описывает стуктуру данных, находящихся в публичном поле модели state. Хранит в себе текущее состояние слайдера и логику для изменения этого состояния. Использует EventEmitter для корректного реагирования на события, происходящие в других модулях, а также для извещения других модулей об изменении текущего состояния слайдера. Предоставляет доступ к данным:
* min - минимальное значение слайдера
* max - максимальное значение слайдера
* thumbsValues - массив значений бегунков слайдера
* orientation - ориентация слайдера
* amount - количество бегунков слайдера
* step - размер шага слайдера
* tooltip - наличие тултипов слайдера
Предоставляет доступ к методам:
`setNewValueMin(min: number): void` - принимает на вход число и устанавливает его в state.min модели
`setNewValueMax(max: number): void` - принимает на вход число и устанавливает его в state.max модели
`setNewValueAmount(amount: number): void` - принимает на вход число и устанавливает его в state.amount модели
`setNewValueThumbsValues(thumbValue: number, index: number): void` - принимает на вход численное значение для бегунка и его индекс и устанавливает его значение по индексу в state.thumbsValues модели
`setNewValueStep(step: number): void` - принимает на вход число и устанавливает его в state.step модели
`setNewValueTooltip(value: boolean): void` - принимает на вход boolean-значение и устанавливает его в state.tooltip модели
`setNewValueOrientation(value: string): void` - принимает на вход строковое значение и устанавливает его в state.orientation модели

View - создает экземпляры Scale, Thumbs, Tooltips. Использует EventEmitter для корректного реагирования на изменения в модели. При измененияя состояния модели, регулирует работу созданных экземпляров scale, thumbs, tooltips. Использует интерфейс IModelState для передачи текущего состояния в методы созданных экзкмпляров scale, thumbs, tooltips по необходимости. Использует интерфейс IConfigurator для возможности использовать модули configuratorHorizontal и configuratorVertical. Использует модули configuratorHorizontal и configuratorVertical для корректного реагирования на свойство "orientation" текущегосостояния модели и для передачи данных модулей в методы экземпляров scale, thumbs, tooltips.

ConfiguratorHorizontal - реализует интерфейс IConfigurator. Используется для обработки операций связанных с работой горизонтального вида.

ConfiguratorVertical - реализует интерфейс IConfigurator. Используется для обработки операций связанных с работой вертикального вида.

Scale - отвечает за отрисовку основной шкалы слайдера и за отрисовку шкалы активного интервала значений. Использует интерфейсы IModelState и IConfigurator для типизации параметров методов использующих значения реализуемые данные интерфейсы. 

Tooltips - отвечает за отрисовку или скрытие тултипов. Использует интерфейсы IModelState и IConfigurator для типизации параметров методов использующих значения реализуемые данные интерфейсы.

Thumbs - реализует интерфейс IThumbsState. Отвечает за отрисовку бегунков слайдера их корректную расстановку на шкале и перемещение. Использует EventEmitter для оповещения об изменении текущего значения перемещаемого бегунка или о значении бегунка перемещенного в место клика по шкале. Использует интерфейсы IModelState и IConfigurator для типизации параметров методов использующих значения реализуемые данные интерфейсы.